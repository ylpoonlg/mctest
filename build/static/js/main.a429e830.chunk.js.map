{"version":3,"sources":["firebase/api.js","theme/colors.js","theme/theme.js","components/Layout/Content.js","components/HomePage/HomePage.js","components/Navbar/lg_logo_72.png","components/Navbar/MobileMenu.js","firebase/auth.js","components/Navbar/Navbar.js","components/Timer/TimeText.js","components/Timer/Timer.js","components/TestPage/Choice.js","components/TestPage/Slidebar.js","components/TestPage/TestPage.js","components/ResultPage/ResultTable.js","firebase/db.js","components/ResultPage/TitleSelect.js","components/ResultPage/TitleInput.js","components/ResultPage/ResultPage.js","components/ResultPage/SettingsPage.js","components/LoginPage/LoginPage.js","components/LoginPage/google_logo.svg","components/AboutPage/AboutPage.js","components/HelpPage/HelpPage.js","components/UserPage/UserPage.js","components/MytestsPage/MytestsFilter.js","components/MytestsPage/MytestsTable.js","components/MytestsPage/MytestsPage.js","components/Compare/AddAns.js","components/Compare/ComparePage.js","components/Compare/CompareTests.js","App.js","index.js"],"names":["console","log","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","colors","primary","main","dark","light","secondary","tertiary","red","green","text","choice","normal","selected","answer","default","correct","wrong","theme","createMuiTheme","palette","contentBackground","typography","fontFamily","button","textTransform","breakpoints","values","sm","Content","children","mt","style","Container","textAlign","marginTop","backgroundColor","overflow","maxWidth","paddingBottom","styles","makeStyles","startBtn","background","width","height","borderRadius","fontSize","color","margin","spacing","boxShadow","startBtnM","settingsTheme","HomePage","classes","history","useHistory","initSettings","JSON","parse","localStorage","mc_settings","useState","settingsSection","setSettingsSection","numChoice","setnumChoice","auto_next_q","autoNextQ","setAutoNextQ","numcError","setnumcError","isMobile","useMediaQuery","down","Typography","variant","Button","className","join","onClick","e","curDate","Date","qdata","test_name","getFullYear","getMonth","getDate","score","numq","numc","ttime","q1","ans","ms","time","testState","curq","ispaused","sttime","now","patime","sessionStorage","mc_test_state","stringify","resetStates","mc_qdata","replace","newVal","settings","disableRipple","paddingLeft","ThemeProvider","Collapse","in","timeout","padding","borderTop","TextField","type","value","onChange","val","target","error","helperText","label","FormControlLabel","control","Switch","checked","labelPlacement","push","MobileMenu","props","newTestClick","loginClick","aboutClick","helpClick","db","firestore","googleSignin","callback","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","user","displayName","email","uid","additionalUserInfo","isNewUser","doc","set","role","name","catch","afterSignedIn","logo","marginLeft","marginRight","title","whiteSpace","spacer","flexGrow","btn_1","btn_r","minWidth","Navbar","isLoggedIn","setIsLoggedIn","imgURL","setImgURL","onAuthStateChanged","photoURL","toggleMobileMenu","setToggleMobileMenu","mobileMenuClick","AppBar","Toolbar","src","logo_path","AddBoxOutlined","Avatar","direction","enter","exit","TimeText","addZero","num","digits","i","toString","substr","length","Grid","item","milseconds","parseInt","hours","Math","floor","minutes","seconds","dseconds","dp","format","Timer","state","qtime","isTimerPaused","timerTick","bind","toggleTimerPause","globalTimer","setInterval","clearInterval","this","nowtime","calQdata","prev","setState","container","justify","alignItems","React","choiceTheme","Choice","selectChoice","isSelected","Slidebar","setcurq","setnumq","onPrev","onChangeCurQ","onNext","max","useEffect","nextQ","prevQ","refresh","display","justifyContent","Slider","min","step","defaultValue","valueLabelDisplay","marks","track","TestPage","initCurq","initChoice","setchoice","setCurq","setNextQ","setPrevQ","setRefresh","onCurQChange","c","document","onkeydown","key","upKey","toUpperCase","maxChar","String","fromCharCode","choiceList","id","cell","maxHeight","wordWrap","toolBtn","float","border","ResultTable","testName","page","setPage","RPP","setRPP","getResult","rows","setRows","MIN_QTIME","deleteQ","removeUnansweredQ","ret","scr","q","TableContainer","Table","size","TableHead","TableRow","TableCell","colSpan","position","TableBody","slice","map","question","index","ansColor","TablePagination","rowsPerPageOptions","component","count","rowsPerPage","onChangePage","onChangeRowsPerPage","selectBtn","cursor","borderBottom","selectDropdown","zIndex","overflowY","overflowX","TitleSelect","showDropdown","setShowDropdown","toggle","btnClass","Fade","clearBtn","listItem","flexDirection","listBtn","delBtn","addItem","addInput","addBtn","TitleInput","setTestName","toggleSub","setToggleSub","newSubject","setNewSubject","togglePp","setTogglePp","newPaper","setNewPaper","toggleYr","setToggleYr","items","subjects","sub","onSelect","stopPropagation","indexOf","splice","onDelete","placeholder","alert","subjectItems","papers","ppr","paperItems","yr","yearItems","sectionBtn","checkBtn","saveBtn","resumeBtn","mytestsBtn","ResultPage","ansSection","setAnsSection","titleSection","setTitleSection","saveStatus","setSaveStatus","getAns","checkBtnClick","getElementById","replaceAll","formatAnsInput","reset","LIMIT","EXCLUDE","stripped","includes","startIcon","res","user_id","test_id","data","loading","cols","onKeyDown","onKeyUp","options","minHeight","confirmBtn","SettingsPage","ButtonGroup","goBack","new_sign_in","LoginPage","AboutPage","href","HelpPage","UserPage","setUser","signOut","message","filterBtn","MytestsFilter","subFilter","setSubFilter","pprFilter","setPprFilter","togglePpr","setTogglePpr","subject","paper","actionBtn","MytestsTable","setLoading","filters","setFilters","setData","getRows","tdata","scorePercent","round","selectTest","window","confirm","success","go","delete","deleteTest","numt","collection","get","tests","forEach","test","mc_tdata","getTests","widgth","MytestsPage","AddAns","onUpdate","stripAns","Input","marginBottom","onRemove","formatAns","compareTable","borderCollapse","tableHeader","tableCell","tableStat","tableAns","tableCorrect","tableWrong","tableTie","ComparePage","storageData","mc_compareTestAns","update","setUpdate","ansVer","setAnsVer","setNumq","getNumq","headerQ","choices","choiceStat","qans","totalAns","probAns","tmp","maxAns","numa","tie","ansChoice","sortedChoices","sort","stat","percentage","genTable","compareTests","mc_compare","rec","CompareTests","j","baseSettings","settings_dd","App","exact","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.a429e830.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconsole.log(\"FIREBASE INIT\");\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDGPaPjjwjBSmjbjsBDQBKVNOTII9PeLqs\",\n    authDomain: \"mctest-ylpoonlg.firebaseapp.com\",\n    projectId: \"mctest-ylpoonlg\",\n    storageBucket: \"mctest-ylpoonlg.appspot.com\",\n    messagingSenderId: \"378298033632\",\n    appId: \"1:378298033632:web:a273db6c76635ed2bbb785\",\n    measurementId: \"G-2YJKZJRK84\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();","const colors = {\n    primary: {\n        main: \"#23354d\",\n        dark: \"#232c38\",\n        light: \"#1478fc\"\n    },\n    secondary: {\n        main: \"#ff8800\",\n        dark: \"#ff5500\",\n        light: \"#ffaa00\",\n    },\n    tertiary: {\n        main: \"#00b3ff\",\n        dark: \"#196bc2\",\n        light: \"#87ebff\",\n    },\n    red: {\n        main: \"#d60000\",\n        dark: \"#800a0a\",\n        light: \"#ffadad\",\n    },\n    green: {\n        main: \"#00db1a\",\n        dark: \"#10731f\",\n        light: \"#73ff88\",\n    },\n    text: {\n        main: \"#000000\",\n        light: \"#ffffff\",\n    },\n    choice: {\n        normal: {\n            main: \"#000000\",\n            dark: \"#000000\",\n            light: \"#222222\",\n        },\n        selected: {\n            main: \"#555555\",\n            dark: \"#222222\",\n            light: \"#999999\"\n        },\n    },\n    answer: {\n        default: \"rgba(0,0,0,0)\",\n        correct: \"#a3ffa8\",\n        wrong: \"#ffb5b5\",\n    }\n};\n\nexport default colors;","import { createMuiTheme, useTheme } from '@material-ui/core';\nimport colors from './colors';\n\nconst theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: colors.primary.main,\n        dark: colors.primary.dark,\n        light: colors.primary.light,\n      },\n      secondary: {\n        main: colors.secondary.main,\n        dark: colors.secondary.dark,\n        light: colors.secondary.light,\n      },\n      text: {\n        main: colors.text.main,\n        dark: colors.text.dark,\n        light: colors.text.light,\n      },\n      contentBackground: \"#ffffff\",\n    },\n    typography: {\n        fontFamily: '\"Rubik\", \"Roboto\", \"Arial\"',\n        button: {\n            textTransform: \"none\"\n        }\n    },\n    breakpoints: {\n      values: {\n        sm: 625,\n      }\n    }\n  });\n\nexport default theme","import { Container, withStyles } from '@material-ui/core'\nimport React from 'react'\nimport theme from '../../theme/theme'\n\nfunction Content({children, mt=1, style}) {\n    return (\n        <Container children={children}\n            style={{\n                textAlign: \"center\",\n                marginTop: mt+\"rem\",\n                backgroundColor: theme.palette.contentBackground,\n                overflow: \"auto\",\n                maxWidth: \"60rem\",\n                paddingBottom: \"2rem\",\n                ...style,\n            }}>\n        </Container>\n    )\n}\n\nexport default Content\n","import { useState, useEffect } from 'react';\nimport { Switch, Button, Grid, createMuiTheme, makeStyles, TextField, Typography, ThemeProvider, FormGroup, FormControlLabel, useMediaQuery, Collapse } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\n\n// Components\nimport Content from \"../Layout/Content\";\n\n// Styles\nimport theme from '../../theme/theme';\nimport './settings.css';\n\nconst styles = makeStyles((theme) => ({\n  startBtn: {\n    background: 'linear-gradient(45deg, #ff5900 30%, #ffbb00 90%)',\n    width: \"12em\",\n    height: \"2em\",\n    borderRadius: \"2.5em\",\n    fontSize: \"2em\",\n    color: theme.palette.text.light,\n    margin: theme.spacing(4),\n    \"&:hover\": {\n      boxShadow: \"#5599ff 0 0 10px\",\n    },\n  },\n  startBtnM: {\n    width:\"6em\",\n  }\n}));\n\nconst settingsTheme = createMuiTheme({\n  palette: {\n      primary: {\n          main: \"#0088ff\",\n          dark: \"#0052a3\",\n          light: \"#69b1ff\"\n      },\n      text: {\n          main: \"#4a4a4a\"\n      }\n  }\n});\n\nfunction HomePage() {\n  const classes = styles();\n  const history = useHistory();\n  const initSettings = JSON.parse(localStorage.mc_settings);\n  \n  // States\n  const [settingsSection, setSettingsSection] = useState(initSettings.settingsSection);\n\n  const [numChoice, setnumChoice] = useState(4);\n  const [autoNextQ, setAutoNextQ] = useState(initSettings.auto_next_q);\n  const [numcError, setnumcError] = useState(false);\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // Handler\n  function startTestClick(e) {\n    console.log(\"Start Test: numc = \"+numChoice);\n    if (numChoice < 1 || numChoice > 10) {\n      setnumcError(true);\n    } else {\n      setnumcError(false);\n      const curDate = new Date();\n\n      // Create New Test\n      let qdata = {\n        test_name: `Test-${curDate.getFullYear()}${curDate.getMonth()}${curDate.getDate()}`,\n        score: 0,\n        numq: 1,\n        numc: numChoice,\n        ttime: 0,\n        q1: {\n          ans: \"\",\n          ms: \"\",\n          time: 0,\n        },\n      }\n\n      resetStates();\n      sessionStorage.mc_qdata = JSON.stringify(qdata);\n      history.replace(\"/test\");\n    }\n  }\n\n  function toggleSettings(e) {\n    const newVal = !settingsSection;\n\n    const settings = JSON.parse(localStorage.mc_settings);\n    settings.settingsSection = newVal;\n    localStorage.mc_settings = JSON.stringify(settings);\n\n    setSettingsSection(newVal);\n  }\n  \n  function toggleAutoNextQ(e) {\n    const settings = JSON.parse(localStorage.mc_settings);\n    settings.auto_next_q = !autoNextQ;\n    localStorage.mc_settings = JSON.stringify(settings);\n\n\t  setAutoNextQ(!autoNextQ);\n  }\n\n  function inputNumChoice(e) {\n    const val = e.target.value;\n    setnumChoice(val);\n  }\n\n  return (\n    <Content>\n      <div>\n      <Typography variant=\"h4\" >Start New Test</Typography>\n        <Button\n          className={[classes.startBtn, isMobile?classes.startBtnM:null].join(' ')}\n          onClick={startTestClick}\n        >START</Button>\n      </div>\n\n      {/* Settings */}\n      <Button onClick={toggleSettings} disableRipple>\n        {settingsSection ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n        <Typography variant=\"h5\" style={{paddingLeft: \"0.5rem\"}}>Settings</Typography>\n      </Button>\n      <ThemeProvider theme={settingsTheme}>\n\n        <Collapse in={settingsSection} timeout={150}>\n          <div style={{ padding: \"1rem\",\n            margin: \"auto\",\n            width: \"60%\",\n            maxWidth: \"30rem\",\n            borderTop: \"solid #999 1.2px\",\n          }}>\n            <div>\n              <div className=\"settings-item settings-textfield\">\n                <TextField type=\"number\" value={numChoice} onChange={inputNumChoice}\n                  error={numcError} helperText={numcError?\"Accepted range: 1-10.\":\"\"}\n                  variant=\"outlined\" color=\"primary\" label=\"Number of Choices\"/>\n              </div>\n              <div className=\"settings-item settings-switch\">\n                <FormControlLabel className=\"settings-item settings-switch\"\n                  control={<Switch checked={autoNextQ} onChange={toggleAutoNextQ} color=\"primary\" />}\n                  label=\"Go to next question automatically\" labelPlacement=\"start\"/>\n              </div>\n            </div>\n          </div>\n        </Collapse>\n      </ThemeProvider>\n\n\n      <div style={{marginTop: \"5rem\"}}>\n        <Button variant=\"outlined\" onClick={(e) => {\n          history.push(\"/comparetests\");\n        }}>[beta] Compare</Button>\n      </div>\n    </Content>\n  );\n}\n\n\nexport default HomePage;\n\nfunction resetStates() {\n  let nowtime = Date.now();\n  let testState = {\n      curq: 1,\n      ispaused: false,\n      sttime: nowtime,\n      patime: 0,\n  }\n  sessionStorage.mc_test_state = JSON.stringify(testState);\n}","export default \"data:image/png;base64,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\"","import { Button, Container } from '@material-ui/core'\nimport React from 'react';\nimport colors from '../../theme/colors';\nimport './navbar.css';\n\nfunction MobileMenu(props) {\n\n    return (\n        <div className=\"mobile-menu\"\n            onClick={props.onClick}\n            style={{\n                backgroundColor: colors.primary.main,\n                boxShadow: \"#999 0 0 20px\",\n        }}>\n            <button className=\"mobile-item\" onClick={props.newTestClick}>\n                New Test\n            </button>\n            <button className=\"mobile-item\" onClick={props.loginClick}>\n                Login\n            </button>\n            <button className=\"mobile-item\" onClick={props.aboutClick}>\n                About\n            </button>\n            <button className=\"mobile-item\" onClick={props.helpClick}>\n                Help\n            </button>\n        </div>\n    )\n}\n\nexport default MobileMenu\n","import firebase from 'firebase';\n\nconst db = firebase.firestore();\n\nexport function getUser(callback) {\n    firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n            callback(user);\n        }\n    });\n}\n\nexport function googleSignin(callback) {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth()\n        .signInWithPopup(provider)\n        .then((result) => {\n            afterSignedIn(result, callback);\n        })\n        .catch((error) => {\n            console.log(\"Failed to log in with google: \"+JSON.stringify(error));\n        });\n}\n\nexport function afterSignedIn(result, callback) {\n    //var credential = result.credential;\n    var user = result.user;\n    console.log(\"Logged-in successfully as \"+user.displayName);\n    console.log(\"Email: \"+user.email);\n    console.log(\"ID: \"+user.uid);\n\n    if (result.additionalUserInfo.isNewUser) {\n        console.log(\"New user\");\n        // create profile\n        const userDoc = db.doc(\"/users/\"+user.uid);\n        userDoc.set({\n            role: \"user\", // error if try to set roles other than \"user\" when not logged in as admin\n            email: user.email, // error if try to change email\n            name: user.displayName\n        }).then(() => {\n            console.log(\"Updated Profile\");\n            callback();\n        }).catch((error) => {\n            console.log(\"Failed to update profile: \"+error);\n        });\n    } else {\n        callback();\n    }\n}\n\nexport function signout(callback) {\n    firebase.auth().signOut()\n    .then(() => {\n        console.log(\"User signed out.\")\n        callback();\n    })\n    .catch((error) => {\n        console.log(\"Failed to sign out: \"+error.message);\n    });\n}","import { React, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { Button, AppBar, Toolbar, makeStyles, Typography, useMediaQuery, Collapse, Slide, Avatar } from '@material-ui/core';\n\nimport logo_path from './lg_logo_72.png';\nimport { AddBoxOutlined } from '@material-ui/icons';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport InfoIcon from '@material-ui/icons/Info';\nimport HelpIcon from '@material-ui/icons/Help';\nimport theme from '../../theme/theme';\nimport MobileMenu from './MobileMenu';\n\nimport * as auth from '../../firebase/auth';\nimport firebase from 'firebase';\n\nconst styles = makeStyles((theme) => ({\n    logo: {\n        width: \"2rem\",\n        height: \"2rem\",\n        marginLeft: \"1rem\",\n        marginRight: \"1rem\",\n    },\n    title: {\n        fontSize: \"2rem\",\n        fontFamily: \"Recursive, Roboto, sans-serif\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n    },\n    spacer: {\n        flexGrow: 1,\n    },\n    btn_1: {\n        width: \"max-content\",\n        height: \"3rem\",\n        marginLeft: \"0.5rem\",\n        marginRight: \"0.5rem\",\n        boxShadow: \"none\",\n        background: \"rgba(0,0,0,0)\",\n        \"&:hover\": {\n            background: \"rgba(0,0,0,0.2)\",\n        }\n    },\n    btn_r: {\n        minWidth: 0,\n        width: \"3rem\",\n        height: \"3rem\",\n        borderRadius: \"10rem\",\n        padding: 0,\n        marginLeft: \"0.5rem\",\n        marginRight: \"0.5rem\",\n        boxShadow: \"none\",\n        background: \"rgba(0,0,0,0)\",\n        \"&:hover\": {\n            background: \"rgba(0,0,0,0.2)\",\n        }\n    },\n}));\n\nfunction Navbar() {\n    const classes = styles();\n    const history = useHistory();\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [imgURL, setImgURL] = useState(\"\");\n\n    firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n            setIsLoggedIn(true);\n            setImgURL(user.photoURL);\n        } else {\n            setIsLoggedIn(false);\n            setImgURL(\"\");\n        }\n    })\n\n    // Link\n    function newTestClick(e) {\n        history.push(\"/\");\n    }\n    function loginClick(e) {\n        history.push(\"/login\");\n    }\n    function aboutClick(e) {\n        history.push(\"/about\");\n    }\n    function helpClick(e) {\n        history.push(\"/help\");\n    }\n\n    const isMobile = useMediaQuery(theme.breakpoints.down('xs'));\n    const [toggleMobileMenu, setToggleMobileMenu] = useState(false);\n\n    function mobileMenuClick(e) {\n        setToggleMobileMenu(!toggleMobileMenu);\n    }\n\n    return (\n        <>\n        <AppBar className=\"navbar\">\n                <Toolbar style={{margin: 0, padding: 0}}>\n                    {/* MOBILE */}\n                    {isMobile ? ( <>\n                        <Button className={classes.btn_1} variant=\"contained\" color=\"primary\"\n                            onClick={mobileMenuClick}\n                        >\n                            <MenuIcon />\n                        </Button>\n                        <img src={logo_path} className={classes.logo}/>\n                    </> ):( <>\n                    {/* DESKTOP */}\n                        <img src={logo_path} className={classes.logo}/>\n                        <Typography className={classes.title}>MC Test Tool</Typography>\n                        <Button className={classes.btn_1} variant=\"contained\" color=\"primary\" onClick={newTestClick}>\n                            <AddBoxOutlined style={{marginRight: '0.5rem'}} />\n                            New Test\n                        </Button>\n                        <Button className={classes.btn_r} variant=\"contained\" color=\"primary\" onClick={aboutClick}>\n                            <InfoIcon />\n                        </Button>\n                        <Button className={classes.btn_r} variant=\"contained\" color=\"primary\" onClick={helpClick}>\n                            <HelpIcon />\n                        </Button>\n                    </> )}\n\n                    <div className={classes.spacer}></div>\n                    \n                    <Button className={classes.btn_1} variant=\"contained\" color=\"primary\" onClick={loginClick}>\n                        { !isLoggedIn ?\n                        \"Login\": ( <Avatar src={imgURL} /> )}\n                    </Button>\n                </Toolbar>\n        </AppBar>\n        <Toolbar></Toolbar>\n\n        \n        <Collapse in={(toggleMobileMenu && isMobile)} direction=\"down\" timeout={{enter: 400, exit: 200}}>\n            <div>\n                <MobileMenu onClick={mobileMenuClick}\n                    newTestClick={newTestClick}\n                    loginClick={loginClick}\n                    aboutClick={aboutClick}\n                    helpClick={helpClick}\n                />\n            </div>\n        </Collapse>\n\n        </>\n    );\n}\n\nexport default Navbar\n","import { Typography, Grid } from '@material-ui/core';\nimport React from 'react'\n\n/* PROPS\n    string dp: display decimal places? \"true\" | \"false\"\n    string label: display text before time\n    int time: time in ms\n*/\nfunction TimeText(props) {\n\n    function addZero(num, digits) {\n        var result = \"\";\n        for (var i=0; i<digits; i++) {\n            result += \"0\";\n        }\n        result += num.toString();\n        return result.substr(result.length - digits);\n    }\n\n    function format(milseconds) {\n        milseconds = parseInt(milseconds);\n        let hours = Math.floor(milseconds / (1000*60*60));\n        let minutes = Math.floor((milseconds - hours*(1000*60*60)) / (1000*60));\n        let seconds = Math.floor((milseconds - hours*(1000*60*60) - minutes*(1000*60)) / (1000));\n        let dseconds = Math.floor(milseconds % 1000 / 10);\n        let time = addZero(hours, 2) + \":\" + addZero(minutes, 2) + \":\" + addZero(seconds, 2);\n        if (props.dp == \"true\") time += \".\" + addZero(dseconds, 2);\n        return time.toString();\n    }\n\n    return (\n        <Grid item style={{ padding: \"0 0.5rem\" }}>\n            <Typography style={{fontFamily: \"Share Tech Mono, monospace\"}} {...props}>\n                {props.label}\n                {format(props.time ? props.time : 0)}\n            </Typography>\n        </Grid>\n    )\n}\n\nexport default TimeText\n","import * as React from 'react';\nimport { Grid, IconButton } from '@material-ui/core';\nimport PauseCircleFilledIcon from '@material-ui/icons/PauseCircleFilled';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport TimeText from './TimeText';\n\nclass Timer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ttime: 0,\n            qtime: 0,\n            isTimerPaused: JSON.parse(sessionStorage.mc_test_state).ispaused,\n        };\n\n        this.timerTick = this.timerTick.bind(this);\n        this.toggleTimerPause = this.toggleTimerPause.bind(this);\n\n        const TIMER_INTERVAL = 10;\n        this.globalTimer = setInterval(this.timerTick, TIMER_INTERVAL);\n    }\n\n    componentWillUnmount() {\n        console.log(\"Timer unmounted\");\n        clearInterval(this.globalTimer);\n    }\n\n    timerTick() {\n        // save into sessionStorage\n        let qdata = calQdata();\n        let curq = JSON.parse(sessionStorage.mc_test_state).curq;\n\n        let prev = this.state;\n        prev.ttime = qdata[\"ttime\"];\n        prev.qtime = qdata[\"q\"+curq][\"time\"];\n        this.setState(prev);\n    }\n\n    toggleTimerPause(e) {\n        const newVal = !this.state.isTimerPaused;\n        // update display state\n        let prev = this.state;\n        prev.isTimerPaused = newVal;\n        this.setState(prev);\n\n        // update testState\n        let testState = JSON.parse(sessionStorage.mc_test_state);\n        let nowtime = Date.now();\n        testState.ispaused = newVal;\n        if (newVal) { // Pause now\n            testState.patime = nowtime;\n        } else {    // Resume now\n            testState.sttime += nowtime - testState.patime;\n        }\n        sessionStorage.mc_test_state = JSON.stringify(testState);\n    }\n\n    render () {\n        return (\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ margin: \"0 -0.5rem\" }}>\n                <button className=\"control-btn\" onClick={this.toggleTimerPause}>\n                    {this.state.isTimerPaused ?\n                        <PlayCircleFilledIcon />\n                        :<PauseCircleFilledIcon /> \n                    }\n                </button>\n                <TimeText dp=\"true\" variant=\"h5\" time={this.state.ttime} label=\"Total Time: \"/>\n                <TimeText dp=\"true\" variant=\"h5\" time={this.state.qtime} label=\"Question Time: \"/>\n            </Grid>\n        );\n    }\n}\n\nexport default Timer\n\n/* sessionStorage data: {\n    mc_qdata: {\n        ...\n    },\n    mc_test_state: {\n        curq: int,\n        ispaused: bool,\n        sttime: int,\n        patime: int,\n    }\n}*/\n\nfunction calQdata() {\n    let testState = JSON.parse(sessionStorage.mc_test_state);\n\n    let curq = testState.curq;\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let nowtime = Date.now();\n    if (testState.ispaused) {\n        return qdata;\n    }\n    \n    qdata[\"q\"+curq][\"time\"] += nowtime - testState.sttime;\n    qdata[\"ttime\"] += nowtime - testState.sttime;\n    testState.sttime = nowtime;\n    sessionStorage.mc_test_state = JSON.stringify(testState);\n    sessionStorage.mc_qdata = JSON.stringify(qdata);\n    return qdata;\n}","import { Button, createMuiTheme, Grid, makeStyles, ThemeProvider } from '@material-ui/core'\nimport { React, useState } from 'react'\n\nimport colors from '../../theme/colors';\nimport './test.css';\n\nconst choiceTheme = createMuiTheme({\n    palette: {\n        primary: colors.choice.normal,\n        secondary: colors.choice.selected,\n    }\n})\n\nfunction Choice(props) {\n\n    function select(e) {\n        props.selectChoice(props.val);\n    }\n\n    return (\n        <ThemeProvider theme={choiceTheme}>\n            <Button className=\"choice\" onClick={select}\n                variant={props.isSelected?\"contained\":\"outlined\"} color={props.isSelected?\"secondary\":\"primary\"}\n                style={{fontSize: \"1.5rem\"}}>{props.val}</Button>\n        </ThemeProvider>\n    )\n}\n\nexport default Choice\n","import { React, useEffect, useState } from 'react';\nimport { Slider } from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nimport './sliderbar.css';\n\nfunction Slidebar(props) {\n    const [curq, setcurq] = useState(JSON.parse(sessionStorage.mc_test_state).curq);\n    const [numq, setnumq] = useState(JSON.parse(sessionStorage.mc_qdata).numq);\n\n    function onSliderChange(e, val) {\n        onChangeCurQ(val);\n    }\n\n    function onPrev(e) {\n        let curq = JSON.parse(sessionStorage.mc_test_state).curq;\n        onChangeCurQ(--curq);\n    }\n    function onNext(e) {\n        let curq = JSON.parse(sessionStorage.mc_test_state).curq;\n        onChangeCurQ(++curq);\n    }\n\n    function onChangeCurQ(newVal) {\n        let qdata = JSON.parse(sessionStorage.mc_qdata);\n        newVal = Math.max(1, newVal);\n        if (newVal > qdata.numq) { // Add new question\n            qdata.numq++;\n            setnumq(qdata.numq);\n            newVal = qdata.numq;\n            qdata[\"q\"+newVal] = {ans: \"\", ms: \"\", time: 0};\n            sessionStorage.mc_qdata = JSON.stringify(qdata);\n        }\n        let testState = JSON.parse(sessionStorage.mc_test_state);\n        testState.curq = newVal;\n        sessionStorage.mc_test_state = JSON.stringify(testState);\n        setcurq(newVal);\n        props.onChange(newVal);\n    }\n\n    useEffect(() => {\n        if (props.nextQ > 0) onNext();\n    }, [props.nextQ]);\n\n    useEffect(() => {\n        if (props.prevQ > 0) onPrev();\n    }, [props.prevQ])\n\n    useEffect(() => {\n        let qdata = JSON.parse(sessionStorage.mc_qdata);\n        let testState = JSON.parse(sessionStorage.mc_test_state);\n        setnumq(qdata.numq);\n        setcurq(testState.curq);\n    }, [props.refresh]);\n\n    return (\n        <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", marginTop: \"1rem\" }}>\n            <button className=\"nav-btn\" onClick={onPrev}><NavigateBeforeIcon /></button>\n            <Slider className=\"slider\" onChange={onSliderChange}\n                value={curq}\n                min={1} step={1} max={numq} defaultValue={JSON.parse(sessionStorage.mc_test_state).curq}\n                valueLabelDisplay=\"off\" marks track={false}>\n            </Slider>\n            <button className=\"nav-btn\" onClick={onNext}><NavigateNextIcon /></button>\n        </div>\n    )\n}\n\nexport default Slidebar;\n","import { Typography, Grid, Button } from '@material-ui/core'\nimport { React, useState } from 'react'\nimport { useHistory } from 'react-router';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Content from '../Layout/Content'\nimport Timer from '../Timer/Timer';\nimport Choice from './Choice'\nimport Slidebar from './Slidebar';\n\nimport './test.css';\n\nfunction TestPage() {\n    const history = useHistory();\n\n    // Init\n    let initCurq = JSON.parse(sessionStorage.mc_test_state).curq;\n    let initQdata = JSON.parse(sessionStorage.mc_qdata);\n    let initChoice = initQdata[\"q\"+initCurq].ans;\n    \n    // State\n    const [choice, setchoice] = useState(initChoice);\n    const [curq, setCurq] = useState(JSON.parse(sessionStorage.mc_test_state).curq);\n    const [nextQ, setNextQ] = useState(0);\n    const [prevQ, setPrevQ] = useState(0);\n    const [refresh, setRefresh] = useState(0);\n\n    function onCurQChange(newVal) {\n        let qdata = JSON.parse(sessionStorage.mc_qdata);\n        setCurq(newVal);\n        setchoice(qdata[\"q\"+newVal].ans);\n    }\n\n    // Choices\n    function selectChoice(c) {\n        console.log(\"selected \"+c);\n\n        let qdata = JSON.parse(sessionStorage.mc_qdata);\n        let testState = JSON.parse(sessionStorage.mc_test_state);\n        let curq = testState.curq;\n        if (c === choice) {\n            setchoice(\" \");\n            qdata[\"q\"+curq].ans = \"\";\n        } else {\n            setchoice(c);\n            qdata[\"q\"+curq].ans = c;\n\n            // auto next q\n            if (JSON.parse(localStorage.mc_settings).auto_next_q)\n                setNextQ(nextQ+1);\n        }\n\n        sessionStorage.mc_qdata = JSON.stringify(qdata);\n    }\n\n    document.onkeydown = (e) => {\n        let key = e.key;\n        let upKey = key.toUpperCase();\n        var maxChar = String.fromCharCode(64+JSON.parse(sessionStorage.mc_qdata).numc);\n\n        if (key == \"ArrowLeft\") {\n            setPrevQ(prevQ+1);\n        } else if (key == \"ArrowRight\") {\n            setNextQ(nextQ+1);\n        } else if (key.length==1 && (upKey>=\"A\"&&upKey<=maxChar)) {\n            selectChoice(upKey);\n        } else if (key == \" \") {\n            selectChoice(\"\");\n        }\n    }\n\n    function onDeleteCurQ(e) {\n        let qdata = JSON.parse(sessionStorage.mc_qdata);\n        let testState = JSON.parse(sessionStorage.mc_test_state);\n        let numq = qdata.numq;\n        let curq = testState.curq;\n        if (curq == 1 && numq == 1) return;\n\n        qdata[\"ttime\"] -= qdata[\"q\"+curq][\"time\"];\n        for (var i=curq; i<numq; i++) {\n        qdata[\"q\"+i] = qdata[\"q\"+(i+1)];\n        }\n        if (curq == numq) {\n            curq--;\n            testState.curq = curq;\n            sessionStorage.mc_test_state = JSON.stringify(testState);\n        }\n        //delete qdata[\"q\"+numq];\n        qdata[\"numq\"]--;\n        sessionStorage.mc_qdata = JSON.stringify(qdata);\n        onCurQChange(curq);\n        setRefresh(refresh+1);\n    }\n\n    function finish() {\n        history.replace('/result');\n    }\n    \n    // Generate Choice Buttons\n    var choiceList = [];\n    const numc = JSON.parse(sessionStorage.mc_qdata).numc;\n    for (var i=0; i<numc; i++) {\n        const c = String.fromCharCode(65+i);\n        choiceList.push((\n            <Choice val={c} key={\"choice-\"+c} isSelected={c === choice} selectChoice={selectChoice}/>\n        ));\n    }\n\n    return (<>\n        <Slidebar refresh={refresh} prevQ={prevQ} nextQ={nextQ} onChange={onCurQChange} />\n        <Content mt={0.5}>\n            <Timer />\n\n            <div id=\"answer-sheet\">\n                <div className=\"row\">\n                    <button className=\"control-btn\" onClick={onDeleteCurQ}\n                        style={{marginRight: \"0.5rem\"}}><DeleteIcon /></button>\n                    <Typography id=\"curq\" variant=\"h4\">Question {curq}</Typography>\n                </div>\n                <Grid className=\"choices\" container justify=\"space-around\" direction=\"row\">\n                    {choiceList}\n                </Grid>\n            </div>\n            <Button id=\"finish-btn\" variant=\"contained\" onClick={finish} color=\"secondary\">Finish</Button>\n        </Content>\n    </>)\n}\n\nexport default TestPage","import { Table, TableBody, TableCell, TableContainer,\n  TableHead, TableRow, TablePagination, makeStyles, Button, Typography } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport colors from '../../theme/colors';\nimport TimeText from '../Timer/TimeText';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nimport './result.css';\nimport { useHistory } from 'react-router';\n\nconst styles = makeStyles((theme) => ({\n  cell: {\n    maxHeight: \"1rem\",\n    padding: \"0 0.5rem\",\n    textAlign: \"center\",\n    wordWrap: \"break-word\",\n  },\n  toolBtn: {\n    float: \"right\",\n    background: \"none\",\n    border: \"none\",\n    color: \"#aaa\",\n    \"&:hover\": {\n      color: \"#ccc\"\n    }\n  },\n}));\n\nfunction ResultTable(props) {\n  const classes = styles();\n  const history = useHistory();\n  const qdata = JSON.parse(sessionStorage.mc_qdata);\n  const ttime = qdata.ttime;\n  const testName = qdata.test_name;\n  \n  // States\n  let score = 0;\n  const [page, setPage] = useState(0);\n  const [RPP, setRPP] = useState(100); // Rows Per Page\n  const [rows, setRows] = useState(getResult());\n\n  useEffect(() => {\n    setRows(getResult());\n  }, [props.refresh]);\n\n  // Get row Data\n  function getResult() {\n    removeUnansweredQ();\n    let ret = [];\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let numq = qdata.numq;\n    let scr = 0;\n  \n    for (var i=1; i<=numq; i++) {\n      ret.push({\n        ans: qdata[\"q\"+i].ans,\n        ms: qdata[\"q\"+i].ms,\n        time: qdata[\"q\"+i].time,\n      });\n      if (qdata[\"q\"+i].ans && qdata[\"q\"+i].ans === qdata[\"q\"+i].ms) scr++;\n      else if (qdata[\"q\"+i].ms === \"*\") scr++;\n    }\n    score = scr;\n    qdata.score = scr;\n    sessionStorage.mc_qdata = JSON.stringify(qdata);\n    return ret;\n  }\n\n  function removeUnansweredQ() {\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let numq = qdata.numq;\n    const MIN_QTIME = 15000;\n    for (var i=numq; i>1; i--) {\n      if (qdata[\"q\"+i].ans == \"\" && qdata[\"q\"+i].time < MIN_QTIME) {\n        deleteQ(i);\n      } else {\n        break;\n      }\n    }\n  }\n\n  function deleteQ(q) {\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let numq = qdata.numq;\n    if (q < 1 || q > numq) return;\n\n    qdata[\"ttime\"] -= qdata[\"q\"+q][\"time\"];\n    for (var i=q; i<numq; i++) {\n      qdata[\"q\"+i] = qdata[\"q\"+(i+1)];\n    }\n    delete qdata[\"q\"+numq];\n    qdata[\"numq\"]--;\n    sessionStorage.mc_qdata = JSON.stringify(qdata);\n  }\n\n  function handleSettings(e) {\n    history.push(\"/settings\");\n  }\n\n  return (\n      <div style={props.style}>\n        <TableContainer id=\"result-table\">\n          <Table className=\"table\"\n              size=\"small\"\n          >\n            <TableHead>\n              <TableRow>\n                <TableCell colSpan={4} style={{textAlign: \"center\", position: \"relative\"}}>\n                  <Typography variant=\"h5\" style={{display: \"inline\", fontSize: \"1.45rem\"}}>{testName}</Typography>\n                  <button className={classes.toolBtn} title=\"Settings\" onClick={handleSettings}>\n                    <SettingsIcon />\n                  </button>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell colSpan={2}\n                  style={{fontFamily: \"Share Tech Mono, monospace\", fontSize: \"100%\", textAlign: \"center\"}}\n                >Score: {score}/{qdata.numq}</TableCell>\n                <TableCell colSpan={2} style={{textAlign: \"center\"}}>\n                  <TimeText label=\"Total Time Used: \" time={ttime} dp=\"true\" />\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell className={classes.cell} style={{width: \"25%\"}}>Question</TableCell>\n                <TableCell className={classes.cell} style={{width: \"25%\"}}>Your Answer</TableCell>\n                <TableCell className={classes.cell} style={{width: \"25%\"}}>Correct Answer</TableCell>\n                <TableCell className={classes.cell} style={{width: \"25%\"}}>Time Used</TableCell>\n              </TableRow>\n            </TableHead>\n\n            <TableBody>\n              {rows.slice(page*RPP, page*RPP+RPP)\n                .map((question, index) => {\n                let ansColor = colors.answer.default;\n                if (question.ms === \"*\") {\n                  ansColor = colors.answer.correct;\n                } else if (question.ms != \" \" && question.ms) {\n                  ansColor = (question.ans === question.ms)?colors.answer.correct:colors.answer.wrong;\n                }\n                return (\n                <TableRow key={\"result-q\"+index}>\n                  <TableCell className={classes.cell}>{index + page*RPP + 1}</TableCell>\n                  <TableCell className={classes.cell}\n                    style={{ background: ansColor }}\n                  >{question.ans}</TableCell>\n                  <TableCell className={classes.cell}>{question.ms}</TableCell>\n                  <TableCell className={classes.cell}><TimeText dp=\"true\" time={question.time}/></TableCell>\n                </TableRow>\n                )}\n              )}\n            </TableBody>\n          </Table>\n\n          <TablePagination\n            rowsPerPageOptions={[10, 25, 50, 100]}\n            component=\"div\"\n            count={rows.length}\n            rowsPerPage={RPP}\n            page={page}\n            onChangePage={(e, val) => {setPage(val)}}\n            onChangeRowsPerPage={(e) => {\n              console.log(\"event \"+e.target.value);\n              setRPP(parseInt(e.target.value, 10));\n              setPage(0);\n            }}\n            />\n          </TableContainer>\n      </div>\n  )\n}\n\nexport default ResultTable","import firebase from 'firebase';\n\nconst db = firebase.firestore();\n\nexport function saveTest(callback) {\n  console.log('saving test');\n  firebase.auth().onAuthStateChanged(function(user) {\n    if (user) {\n      console.log(\"Logged in\");\n      let user_id = user.uid;\n      let qdata = JSON.parse(sessionStorage.mc_qdata);\n      const test_id = qdata.test_name;\n      const testsDoc = db.doc(\"users/\"+user_id+\"/tests/\"+test_id);\n      testsDoc.set({\n          data: qdata\n      }).then(function() {\n        callback(true);\n      }).catch(function (error) {\n        console.log(\"Failed to save: \"+error);\n        callback(false);\n      });\n    } else {\n      console.log(\"Failed to save: not logged in.\");\n      callback(false);\n    }\n  });\n}\n\nexport function getMytests(callback) {\n  firebase.auth().onAuthStateChanged(function(user) {\n    if (user) {\n      let user_id = user.uid;\n      const testsCol = db.collection(\"users/\"+user_id+\"/tests\");\n      testsCol.get().then(function (tests) {\n        var numt = 0;\n        var tdata = {};\n        tests.forEach(function(test) {\n          var qdata = test.data()[\"data\"];\n          numt++;\n          tdata[\"t\"+numt] = qdata;\n        });\n        tdata[\"numt\"] = numt;\n        \n        sessionStorage.mc_tdata = JSON.stringify(tdata);\n        callback(tdata);\n      }).catch(function(error) {\n        console.log(\"get user tests error: \"+error);\n        callback(null);\n      });\n    } else {\n      console.log(\"Failed to get tests: not logged in.\");\n      callback(null);\n    }\n  });\n}\n\nexport function deleteTest(test_id, callback) {\n  firebase.auth().onAuthStateChanged(user => {\n    if (user) {\n      var user_id = user.uid;\n      const testsDoc = db.doc(\"users/\"+user_id+\"/tests/\"+test_id);\n      testsDoc.delete().then(function() {\n        callback(true);\n      }).catch(function (error) {\n        console.log(\"Failed to delete: \"+error);\n        callback(false);\n      });\n    } else {\n      console.log(\"Failed to delete test: not logged in.\");\n      callback(false);\n    }\n  });\n}\n\nexport function convertVersion() {\n  //localStorage.mc_backup = \"{}\";\n  const userCol = db.collection(\"users\");\n  userCol.get().then((users) => {\n    users.forEach((user) => {\n      console.log(\"User: \"+JSON.stringify(user.data()));\n      let user_id = user.id;\n      let testCol = db.collection(\"users/\"+user_id+\"/tests\");\n      testCol.get().then((tests) => {\n        tests.forEach((test) => {\n          /*\n          let test_id = test.id;\n          let qdata = test.data()[\"data\"];\n          // Process Data\n          saveData(user_id, test_id, qdata);\n          */\n        });\n      })\n    })\n  }).catch(function(error) {\n    console.log(\"Convert error: \"+error);\n  });\n}\n\nfunction saveData(user_id, test_id, qdata) {\n  const testsDoc = db.doc(\"users/\"+user_id+\"/tests/\"+test_id);\n  testsDoc.set({\n      data: qdata\n  }).then(function() {\n    console.log(test_id+\" saved successfully\");\n  }).catch(function (error) {\n    console.log(\"Failed to save: \"+error);\n  });\n}","import React, { useEffect, useState } from 'react'\nimport { Fade, makeStyles } from '@material-ui/core';\n\nimport colors from '../../theme/colors';\n\nconst styles = makeStyles((theme) => ({\n  selectBtn: {\n    width: \"10rem\",\n    fontSize: \"120%\",\n    padding: \"0.2rem\",\n    margin: \"0 0.1rem\",\n    background: \"#fff\",\n    \"&:hover\": {\n      background: \"#fafafa\",\n      cursor: \"pointer\",\n      boxShadow: \"#ddd 0 0 5px\",\n    },\n    border: \"none\",\n    borderBottom: `solid ${colors.tertiary.main} 3px`,\n  },\n  selectDropdown: {\n    width: \"100%\", maxHeight: \"12rem\", maxWidth: \"100%\",\n    background: \"#fff\",\n    boxShadow: \"#aaa 0 0 5px\",\n    zIndex: 100, overflowY: \"auto\", overflowX: \"hidden\",\n  },\n}));\n\nfunction TitleSelect(props) {\n  const classes = styles();\n\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  useEffect(() => {\n    if (props.toggle != 0) setShowDropdown(!showDropdown);\n  }, [props.toggle]);\n\n  return (\n    <div style={{position: \"relative\", width: \"min-content\",}}>\n      <button className={props.btnClass?props.btnClass:classes.selectBtn} onClick={() => {setShowDropdown(!showDropdown)}}>\n        <div className=\"row\">\n          <span>{props.title}</span>\n        </div>\n      </button>\n\n      <Fade in={showDropdown}>\n        <div className={classes.selectDropdown}\n          style={{position: \"absolute\",}}>\n          {props.children}\n        </div>\n      </Fade>\n    </div>\n  )\n}\n\nexport default TitleSelect\n","import React, { useState, useEffect } from 'react';\nimport { Button, Grid, makeStyles, TextField } from '@material-ui/core';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport BackspaceIcon from '@material-ui/icons/Backspace';\n\nimport TitleSelect from './TitleSelect';\nimport colors from '../../theme/colors';\n\n\nconst styles = makeStyles((theme) => ({\n  clearBtn: {\n    border: \"none\",\n    background: \"none\",\n    marginLeft: \"1rem\",\n    color: \"#555\",\n    \"&:hover\": {\n      color: \"#999\",\n    }\n  },\n  listItem: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: \"0.5rem 0.5rem\",\n    \"&:hover\": {\n      background: \"#eee\",\n      cursor: \"default\",\n    },\n  },\n  listBtn: {\n    background: \"none\",\n    border: \"none\",\n    margin: \"0\",\n    padding: \"0\",\n  },\n  delBtn: {\n    color: \"#bbb\",\n    \"&:hover\": {\n      color: colors.red.main,\n      cursor: \"pointer\",\n    }\n  },\n  addItem: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  addInput: {\n    display: \"block\",\n    height: \"1.6rem\", width: \"6rem\",\n    padding: \"0rem 0.2rem\",\n    margin: \"auto\",\n    border: \"none\", borderBottom: \"solid #aaa 1px\",\n  },\n  addBtn: {\n    height: \"1.8rem\", width: \"3rem\", minWidth: \"3rem\",\n    padding: \"0\", margin: \"0\",\n    color: colors.text.light,\n    borderRadius: \"0\",\n    background: colors.green.main,\n    \"&:hover\": {\n      background: colors.green.dark,\n    },\n    \"&:active\": {\n      background: colors.green.light,\n    },\n  }\n}));\n\nfunction TitleInput(props) {\n  const classes = styles();\n\n  // States\n  const [testName, setTestName] = useState(JSON.parse(sessionStorage.mc_qdata).test_name);\n  const [refresh, setRefresh] = useState(0);\n  const [toggleSub, setToggleSub] = useState(0);\n  const [newSubject, setNewSubject] = useState(\"\");\n  const [togglePp, setTogglePp] = useState(0);\n  const [newPaper, setNewPaper] = useState(\"\");\n  const [toggleYr, setToggleYr] = useState(0);\n  \n  // ---------------------------------------------------\n  // ---------------Select Subject----------------------\n  // ---------------------------------------------------\n  function subjectItems() {\n    let items = [];\n    let subjects = JSON.parse(localStorage.mc_settings).subjects;\n    \n    for (var i=0; i<subjects.length; i++) {\n      let sub = subjects[i];\n      items.push((\n        <div className={classes.listItem} key={i} onClick={(e) => {onSelect(sub);}}>\n          <span style={{\n            display: \"inline-block\", wordWrap: \"break-word\",\n            width: \"80%\",\n          }}>{subjects[i]}</span>\n          <button className={[classes.listBtn, classes.delBtn].join(\" \")}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(sub);\n          }}>\n            <CancelIcon style={{height: \"16px\", width: \"16px\"}} />\n          </button>\n        </div>\n      ));\n    }\n    items.push((\n      <div className={classes.addItem} key=\"add\">\n        <input className={classes.addInput} value={newSubject} placeholder=\"New Subject\"\n          onChange={(e) => {setNewSubject(e.target.value)}} />\n        <Button className={classes.addBtn} variant=\"contained\" onClick={onAdd}>\n          <AddIcon style={{height: \"20px\", width: \"20px\"}} />\n        </Button>\n      </div>\n    ));\n    // Select subject\n    function onSelect(sub) {\n      if (testName && testName[testName.length-1]!=\" \") setTestName(testName+\" \"+sub);\n      else setTestName(testName+sub);\n      setToggleSub(toggleSub+1);\n    }\n    // Delete subject\n    function onDelete(sub) {\n      let settings = JSON.parse(localStorage.mc_settings);\n      let index = settings.subjects.indexOf(sub);\n      if (index > -1) {\n        settings.subjects.splice(index, 1);\n        localStorage.mc_settings = JSON.stringify(settings);\n      }\n      setRefresh(refresh+1);\n    }\n    // Add new subject\n    function onAdd(e) {\n      let settings = JSON.parse(localStorage.mc_settings);\n      if (newSubject == \"\") { // Invalid input\n        alert(\"Input cannot be empty.\");\n      } else if (settings.subjects.indexOf(newSubject) != -1) {\n        alert(`\"${newSubject}\" already exists.`);\n      } else {\n        settings.subjects.push(newSubject);\n        localStorage.mc_settings = JSON.stringify(settings);\n        setRefresh(refresh+1);\n        setNewSubject(\"\");\n      }\n    }\n    return items;\n  }\n\n\n  // ---------------------------------------------------\n  // ---------------Select Paper------------------------\n  // ---------------------------------------------------\n  function paperItems() {\n    let items = [];\n    let papers = JSON.parse(localStorage.mc_settings).papers;\n    \n    for (var i=0; i<papers.length; i++) {\n      let ppr = papers[i];\n      items.push((\n        <div className={classes.listItem} key={i} onClick={(e) => {onSelect(ppr);}}>\n          <span>{papers[i]}</span>\n          <button className={[classes.listBtn, classes.delBtn].join(\" \")}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDelete(ppr);\n          }}>\n            <CancelIcon style={{height: \"16px\", width: \"16px\"}} />\n          </button>\n        </div>\n      ));\n    }\n    items.push((\n      <div className={classes.addItem} key=\"add\">\n        <input className={classes.addInput} value={newPaper} placeholder=\"New Paper\"\n          onChange={(e) => {setNewPaper(e.target.value)}} />\n        <Button className={classes.addBtn} variant=\"contained\" onClick={onAdd}>\n          <AddIcon style={{height: \"20px\", width: \"20px\"}} />\n        </Button>\n      </div>\n    ));\n    // Select paper\n    function onSelect(ppr) {\n      if (testName && testName[testName.length-1]!=\" \") setTestName(testName+\" \"+ppr);\n      else setTestName(testName+ppr);\n      setTogglePp(togglePp+1);\n    }\n    // Delete paper\n    function onDelete(ppr) {\n      let settings = JSON.parse(localStorage.mc_settings);\n      let index = settings.papers.indexOf(ppr);\n      if (index > -1) {\n        settings.papers.splice(index, 1);\n        localStorage.mc_settings = JSON.stringify(settings);\n      }\n      setRefresh(refresh+1);\n    }\n    // Add new paper\n    function onAdd(e) {\n      let settings = JSON.parse(localStorage.mc_settings);\n      if (newPaper == \"\") { // Invalid input\n        alert(\"Input cannot be empty.\");\n      } else if (settings.papers.indexOf(newPaper) != -1) {\n        alert(`\"${newPaper}\" already exists.`);\n      } else {\n        settings.papers.push(newPaper);\n        localStorage.mc_settings = JSON.stringify(settings);\n        setRefresh(refresh+1);\n        setNewPaper(\"\");\n      }\n    }\n    return items;\n  }\n\n  // ---------------------------------------------------\n  // ---------------Select Year------------------------\n  // ---------------------------------------------------\n  function yearItems() {\n    let items = [];\n    let curDate = new Date();\n    for (var i=curDate.getFullYear(); i>=1980; i--) {\n      let yr = i;\n      items.push((\n        <div className={classes.listItem} key={i} onClick={(e) => {onSelect(yr);}}>\n          <span>{i}</span>\n        </div>\n      ));\n    }\n\n    // Select Year\n    function onSelect(yr) {\n      if (testName && testName[testName.length-1]!=\" \") setTestName(testName+\" \"+yr);\n      else setTestName(testName+yr);\n      setToggleYr(toggleYr+1);\n    }\n\n    return items;\n  }\n\n\n  // On test name change\n  useEffect(() => {\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    qdata.test_name = testName;\n    sessionStorage.mc_qdata = JSON.stringify(qdata);\n    props.onChange();\n  }, [testName])\n\n  // Clear Title input\n  function clearInput(e) {\n    setTestName(\"\");\n  }\n\n\n  // MAIN\n  return (\n    <div style={{ padding: \"1rem 0\", }}>\n      <Grid container direction=\"row\" justify=\"center\">\n        <TitleSelect title=\"Subject\" refresh={refresh} toggle={toggleSub}>\n          {subjectItems()}\n        </TitleSelect>\n\n        <TitleSelect title=\"Paper\" refresh={refresh} toggle={togglePp}>\n          {paperItems()}\n        </TitleSelect>\n\n        <TitleSelect title=\"Year\" refresh={refresh} toggle={toggleYr}>\n          {yearItems()}\n        </TitleSelect>\n      </Grid>\n      <div className=\"row\" style={{marginTop: \"0.8rem\"}}>\n        <TextField value={testName} onChange={(e) => {setTestName(e.target.value)}}\n          placeholder=\"Title of the Test\" variant=\"standard\"\n        />\n        <button className={classes.clearBtn} onClick={clearInput}>\n          <BackspaceIcon />\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default TitleInput","import { Button, Collapse, makeStyles, TextField, Typography } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport PlayCircleFilledWhiteIcon from '@material-ui/icons/PlayCircleFilledWhite';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport CheckIcon from '@material-ui/icons/Check';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\n\nimport Content from '../Layout/Content';\nimport ResultTable from './ResultTable';\n\nimport colors from '../../theme/colors';\nimport * as db from '../../firebase/db';\nimport TitleInput from './TitleInput';\n\nconst styles = makeStyles((theme) => ({\n  sectionBtn: {\n    margin: \"0.5rem 0.2rem\",\n    width: \"max-content\",\n  },\n  checkBtn: {\n    width: \"5rem\",\n    height: \"2.5rem\",\n    margin: \"0 0.5rem\",\n    color: colors.text.light,\n    background: colors.green.main,\n    \"&:hover\": {\n      background: colors.green.dark,\n    },\n    \"$:active\": {\n      background: colors.green.light,\n    }\n  },\n  saveBtn: {\n    background: colors.tertiary.main,\n    color: colors.text.light,\n    \"&:hover\": {\n      background: colors.tertiary.dark,\n    },\n    \"$:active\": {\n      background: colors.tertiary.light,\n    }\n  },\n  resumeBtn: {\n    background: colors.secondary.main,\n    color: colors.text.light,\n    \"&:hover\": {\n      background: colors.secondary.dark,\n    },\n    \"$:active\": {\n      background: colors.secondary.light,\n    }\n  },\n  mytestsBtn: {\n    marginLeft: \"0.8rem\", background: \"none\", border: \"none\",\n    color: \"#000\", \"&:hover\": {color: \"#999\", cursor: \"pointer\"},\n  }\n}));\n\nfunction ResultPage() {\n  const classes = styles();\n  const history = useHistory();\n\n  // States\n  const [refresh, setRefresh] = useState(0);\n  const [ansSection, setAnsSection] = useState(false);\n  const [titleSection, setTitleSection] = useState(false);\n  const [saveStatus, setSaveStatus] = useState(\"normal\");\n\n  // Title Input\n  function onTitleUpdate() {\n    console.log(\"refresh table\");\n    setRefresh(refresh + 1);\n  }\n\n  // Check Anwers\n  function getAns() { // get answer stored in sesssionStorage.mc_qdata\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let numq = qdata.numq;\n    let ret = \"\";\n    for (var i=1; i<=numq; i++) {\n      ret += qdata[\"q\"+i].ms;\n    }\n    return ret;\n  }\n  function checkBtnClick(e) {\n    let qdata = JSON.parse(sessionStorage.mc_qdata);\n    let numq = qdata.numq;\n    let val = document.getElementById(\"ans-input\").value;\n    console.log(\"val = \"+val);\n    let ans = val.replaceAll('\\n', '');\n    console.log(\"ans = \"+ans);\n\n    for (var i=1; i<=ans.length; i++) {\n      qdata[\"q\"+i].ms = ans[i-1];\n    }\n    for (var i=ans.length+1; i<=numq; i++) {\n      qdata[\"q\"+i].ms = '';\n    }\n\n    sessionStorage.mc_qdata = JSON.stringify(qdata);\n    setRefresh(refresh+1);\n  }\n  document.onkeydown = (e) => {\n    let key = e.key;\n    if (key === \"Enter\") {\n      checkBtnClick(null);\n    }\n  }\n\n  // Input Answers\n  function formatAnsInput(e=null, reset=false) {\n    let LIMIT = 10;\n    let EXCLUDE = ['\\n', '\\r'];\n    let val = reset?getAns():document.getElementById(\"ans-input\").value;\n    let stripped = \"\";\n    for (var i=0; i<val.length; i++) {\n      if (!EXCLUDE.includes(val[i])) {\n        stripped += val[i];\n      }\n    }\n    let numq = JSON.parse(sessionStorage.mc_qdata).numq;\n    let newVal = \"\";\n    for (var i=1; i<=Math.min(stripped.length, numq); i++) {\n      newVal += stripped[i-1];\n      if (i % LIMIT === 0) {\n        newVal += \"\\n\";\n      }\n    }\n    if (newVal[newVal.length-1] == '\\n') {\n      newVal = newVal.substr(0, newVal.length-1);\n    }\n    if (reset) {\n      return newVal;\n    }\n    document.getElementById(\"ans-input\").value = newVal;\n  }\n\n  // Save\n  function onSave(e) {\n    setSaveStatus(\"saving\")\n    db.saveTest((res) => {\n      if (res) {\n        setSaveStatus(\"success\");\n      } else {\n        setSaveStatus(\"failed\");\n      }\n    });\n  }\n\n  // Resume\n  function onResume(e) {\n    resetStates();\n    history.replace(\"/test\");\n  }\n\n  return (\n    <Content>\n      <div className=\"row\">\n        <Typography variant=\"h4\">Result</Typography>\n        <button className={classes.mytestsBtn} title=\"My Tests\"\n          onClick={(e) => {\n            history.push(\"/mytests\");\n          }}\n        >\n          <StorageIcon />\n        </button>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"row\">\n        <Button className={classes.sectionBtn}\n          onClick={(e) => {setTitleSection(!titleSection)}}\n          variant=\"outlined\"\n          startIcon={titleSection?<ExpandLessIcon />:<ExpandMoreIcon />}\n        >Title</Button>\n\n        <Button className={classes.sectionBtn}\n          onClick={(e) => {setAnsSection(!ansSection)}}\n          variant=\"outlined\"\n          startIcon={ansSection?<ExpandLessIcon />:<ExpandMoreIcon />}\n        >Answers</Button>\n\n        <Button className={classes.sectionBtn+\" \"+classes.saveBtn} title=\"Save test to cloud\"\n          onClick={onSave} variant=\"contained\"\n          startIcon={saveStatus==\"normal\"?<CloudUploadIcon />:\n          (saveStatus==\"saving\"?<ClipLoader color=\"#fff\" size={\"1rem\"} loading={true} />:\n          saveStatus==\"success\"?<CheckIcon/>:<ErrorOutlineIcon />)\n          }\n        >Save</Button>\n\n        <Button className={classes.sectionBtn+\" \"+classes.resumeBtn} title=\"Continue this test\"\n          onClick={onResume} variant=\"contained\" startIcon={<PlayCircleFilledWhiteIcon />}\n        >Resume</Button>\n      </div>\n\n      <div>\n        {/* title */}\n        <Collapse in={titleSection}>\n          <TitleInput onChange={onTitleUpdate} />\n        </Collapse>\n        \n        {/* answer input */}\n        <Collapse in={ansSection}>\n          <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\",\n            padding: \"1rem 0\",\n          }}>\n            <textarea id=\"ans-input\" cols={25} rows={5} defaultValue={formatAnsInput(null, true)}\n              onKeyDown={formatAnsInput} onKeyUp={formatAnsInput}\n              placeholder={\"e.g. 'ABCD' = answers of question 1 to 4\"}\n            ></textarea>\n            <Button className={classes.checkBtn} variant=\"contained\" onClick={checkBtnClick}>Check</Button>\n          </div>\n        </Collapse>\n      </div>\n\n      <ResultTable refresh={refresh}\n        style={{maxWidth: \"50rem\", minWidth: \"25rem\", margin: \"1rem auto\",}}\n      />\n    </Content>\n  )\n}\n\nexport default ResultPage\n\nfunction resetStates() {\n  let nowtime = Date.now();\n  let testState = {\n      curq: JSON.parse(sessionStorage.mc_qdata).numq,\n      ispaused: false,\n      sttime: nowtime,\n      patime: 0,\n  }\n  sessionStorage.mc_test_state = JSON.stringify(testState);\n}","import { Button, ButtonGroup, makeStyles, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { useHistory } from 'react-router';\nimport colors from '../../theme/colors';\nimport Content from '../Layout/Content'\n\nconst styles = makeStyles((theme) => ({\n    options: {\n        marginTop: \"1rem\",\n        minHeight: \"15rem\",\n    },\n    confirmBtn: {\n        color: \"#fff\",\n        background: colors.secondary.main,\n        \"&:hover\": {\n            background: colors.secondary.dark,\n        },\n        \"&:active\": {\n            background: colors.secondary.light,\n        },\n    },\n}));\n\nfunction SettingsPage() {\n    const classes = styles();\n    const history = useHistory();\n\n    function handleConfirm(e) {\n        console.log(\"Saving settings...\");\n        history.goBack();\n    }\n\n    function handleCancel(e) {\n        history.goBack();\n    }\n\n    return (\n        <Content>\n            <Typography variant=\"h4\">Test Settings</Typography>\n            <div className={classes.options}>\n                <p>// TODO</p>\n            </div>\n            <div className=\"row\">\n                <ButtonGroup>\n                    <Button variant=\"outlined\" onClick={handleCancel}>Cancel</Button>\n                    <Button variant=\"contained\" className={classes.confirmBtn} onClick={handleConfirm}>Confirm</Button>\n                </ButtonGroup>\n            </div>\n        </Content>\n    )\n}\n\nexport default SettingsPage\n","import React from 'react'\nimport { Button, Container, makeStyles, Typography } from '@material-ui/core'\nimport { useHistory } from 'react-router';\nimport Content from '../Layout/Content'\nimport GoogleLogo from './google_logo.svg';\nimport FacebookLogo from './facebook_logo.png';\nimport GithubLogo from './github_logo.png';\n\nimport * as auth from '../../firebase/auth';\nimport firebase from 'firebase';\n\nimport '../../style/style.css';\nimport './login.css';\n\nlet new_sign_in = false;\n\nconst styles = makeStyles((theme) => ({\n  \n}));\n\nfunction LoginPage() {\n  const classes = styles();\n  const history = useHistory();\n\n  console.log(\"Check login state\");\n\n  firebase.auth().onAuthStateChanged(user => {\n    if (user && !new_sign_in) {\n      console.log(\"User has already signed in.\");\n      afterSignedIn();\n    }\n  });\n\n  function googleSignin(e) {\n    new_sign_in = true;\n    auth.googleSignin(afterSignedIn);\n  }\n\n  function facebookSignin(e) {\n    new_sign_in = true;\n  }\n\n  function githubSignin(e) {\n    new_sign_in = true;\n  }\n\n  function afterSignedIn() {\n    new_sign_in = false;\n    history.replace(\"/user\");\n  }\n\n  return (\n    <Content>\n      <Typography variant=\"h4\">Sign In</Typography>\n      <div style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", margin: \"1rem 0\"}}>\n        <button id=\"google-signin-btn\" className=\"signin-btn\" onClick={googleSignin}>Login with Google</button>\n        <p>Coming soon:</p>\n        <button id=\"facebook-signin-btn\" className=\"signin-btn\" onClick={facebookSignin}>Login with Facebook</button>\n        <button id=\"github-signin-btn\" className=\"signin-btn\" onClick={githubSignin}>Login with Github</button>\n        <a className=\"a-btn\" onClick={(e) => {history.goBack()}} style={{marginTop: \"20vh\"}}>return</a>\n      </div>\n    </Content>\n  )\n}\n\nexport default LoginPage\n","export default __webpack_public_path__ + \"static/media/google_logo.45446013.svg\";","import { Container, Typography } from '@material-ui/core'\nimport React from 'react'\nimport Content from '../Layout/Content'\n\nfunction AboutPage() {\n    return (\n        <Content>\n            <Typography variant=\"h4\">About</Typography>\n            <Container>\n                <div className=\"section\">\n                    <h4>What is MC Test Tool</h4>\n                    <p>\n                        MC Test Tool is a tool that helps you record the results of your multiple-choice (MC) tests\n                    </p>\n                </div>\n\n                <div className=\"section\">\n                    <h4>Version</h4>\n                    <p>\n                        v2.2.1 (dev)\n                    </p>\n                </div>\n\n                <div className=\"section\">\n                    <h4>About Developer</h4>\n                    <p>\n                        MC Test Tool is developed by ylpoonlg\n                        <br/>\n                        Wisdom is given by mokkagod\n                    </p>\n                    <br/>\n                    <h5>Bug Report</h5>\n                    <p>\n                        <a href=\"https://github.com/ylpoonlg/mctest\">Github repo</a>\n                    </p>\n                </div>\n            </Container>\n        </Content>\n    )\n}\n\nexport default AboutPage\n","import { Typography, Container } from '@material-ui/core';\nimport React from 'react';\nimport Content from '../Layout/Content';\n\nfunction HelpPage() {\n    return (\n        <Content>\n            <Typography variant=\"h4\">Need Help Support?</Typography>\n            <Container>\n                <div className=\"section\">\n                    <h4>We're not offering any...</h4>\n                </div>\n            </Container>\n        </Content>\n    )\n}\n\nexport default HelpPage\n","import React, { useState } from 'react';\nimport { Button, Typography } from '@material-ui/core';\nimport { useHistory } from 'react-router';\n\nimport Content from '../Layout/Content';\nimport colors from '../../theme/colors';\nimport * as auth from '../../firebase/auth';\n\nfunction UserPage() {\n  const history = useHistory();\n  let [user, setUser] = useState(\"\");\n\n  function onSignout(e) {\n    auth.signout(() => {\n      history.replace(\"/login\");\n    });\n  }\n\n  auth.getUser((user) => {\n    setUser(user.displayName);\n  });\n\n  return (\n    <Content>\n      <Typography variant=\"h5\" style={{wordWrap: \"break-word\"}}>Welcome back, {user}!</Typography>\n      <div style={{margin: \"2rem 0\"}}>\n        <Button onClick={() => {\n          history.push(\"/mytests\");\n        }}\n          variant=\"contained\" color=\"secondary\" style={{color: colors.text.light}}>My Tests</Button>\n      </div>\n      <a className=\"a-btn\" onClick={onSignout} style={{marginTop: \"20vh\"}}>Sign Out</a>\n    </Content>\n  )\n}\n\nexport default UserPage\n","import React, { useEffect, useState } from 'react';\nimport { ListItemSecondaryAction, makeStyles, TextField } from '@material-ui/core';\nimport TitleSelect from '../ResultPage/TitleSelect';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\n\nimport colors from '../../theme/colors';\n\nconst styles = makeStyles((theme) => ({\n  filterBtn: {\n    width: \"10rem\",\n    background: \"#ddd\",\n    border: \"solid #aaa 1px\", borderRadius: \"0.2rem\",\n    padding: \"0.1rem 1rem\",\n    \"&:hover\": {\n      background: \"#eee\",\n    }\n  },\n  listItem: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: \"0.5rem 0.5rem\",\n    \"&:hover\": {\n      background: \"#eee\",\n      cursor: \"default\",\n    },\n  },\n  addInput: {\n    display: \"block\",\n    height: \"1.6rem\", width: \"7rem\",\n    padding: \"0rem 0.2rem\",\n    margin: \"auto\",\n    border: \"none\", borderBottom: \"solid #aaa 1px\",\n  },\n  addBtn: {\n    height: \"1.8rem\", width: \"3rem\", minWidth: \"3rem\",\n    padding: \"0\", margin: \"0\",\n    color: colors.text.light,\n    border: \"none\",\n    borderRadius: \"0\",\n    background: colors.green.main,\n    \"&:hover\": {\n      background: colors.green.dark,\n    },\n    \"&:active\": {\n      background: colors.green.light,\n    },\n  }\n}));\n\nfunction MytestsFilter(props) {\n    const classes = styles();\n\n    const [subFilter, setSubFilter] = useState(\"\");\n    const [pprFilter, setPprFilter] = useState(\"\");\n    const [toggleSub, setToggleSub] = useState(0);\n    const [togglePpr, setTogglePpr] = useState(0);\n\n    useEffect(() => {\n      props.onChange({\n        subject: subFilter,\n        paper: pprFilter\n      });\n    }, [subFilter, pprFilter]);\n\n    function subjectItems() {\n      let items = [];\n      let testState = JSON.parse(localStorage.mc_settings);\n      let subjects = testState.subjects;\n\n      items.push((\n        <div key=\"all\" className={\"row \"+classes.listItem}\n          onClick={(e) => {\n            setSubFilter(\"\");\n            setToggleSub(toggleSub+1);\n          }}\n        >\n          <ClearAllIcon />\n          <span style={{margin: \"auto\"}}>Clear Filter</span>\n        </div>\n      ));\n\n      items.push((\n        <div key=\"input\" className=\"row\" style={{padding: \"0.2rem 0\"}}>\n          <input className={classes.addInput} placeholder=\"Filter\"\n            value={subFilter} onChange={addItem} onKeyDown={addItem} onKeyUp={addItem} />\n        </div>\n      ));\n\n      for (var i=0; i<subjects.length; i++) {\n        let index = i;\n        items.push((\n          <div key={i} className={\"row \"+classes.listItem} onClick={(e) => {selectItem(subjects[index])}}>\n            <span style={{ display: \"inline-block\", wordWrap: \"break-word\",\n              width: \"100%\",\n           }}>{subjects[index]}</span>\n          </div>\n        ));\n      }\n      \n      // Select\n      function selectItem(subject) {\n        setSubFilter(subject);\n        setToggleSub(toggleSub+1);\n      }\n      //Add\n      function addItem(e) {\n        setSubFilter(e.target.value);\n      }\n      return items;\n    }\n\n    function paperItems() {\n      let items = [];\n      let testState = JSON.parse(localStorage.mc_settings);\n      let papers = testState.papers;\n\n      items.push((\n        <div key=\"all\" className={\"row \"+classes.listItem}\n          onClick={(e) => {\n            setPprFilter(\"\");\n            setTogglePpr(togglePpr+1);\n          }}\n        >\n          <ClearAllIcon />\n          <span style={{margin: \"auto\"}}>Clear Filter</span>\n        </div>\n      ));\n\n      items.push((\n        <div key=\"input\" className=\"row\" style={{padding: \"0.2rem 0\"}}>\n          <input className={classes.addInput} placeholder=\"Filter\"\n            value={pprFilter} onChange={addItem} onKeyDown={addItem} onKeyUp={addItem} />\n        </div>\n      ));\n      for (var i=0; i<papers.length; i++) {\n        let index = i;\n        items.push((\n          <div key={i} className={\"row \"+classes.listItem} onClick={(e) => {selectItem(papers[index])}}>\n            <span style={{ display: \"inline-block\", wordWrap: \"break-word\",\n              width: \"100%\",\n           }}>{papers[index]}</span>\n          </div>\n        ));\n      }\n      // Select\n      function selectItem(paper) {\n        setPprFilter(paper);\n        setTogglePpr(togglePpr+1);\n      }\n      //Add\n      function addItem(e) {\n        setPprFilter(e.target.value);\n      }\n      return items;\n    }\n\n    return (\n      <div className=\"row\" style={{justifyContent: \"left\"}}>\n        <span>Filters</span>\n        <div className=\"row\" style={{margin: \"auto\"}}>\n          <div style={{margin: \"0 0.6rem\"}}>\n            <TitleSelect title={subFilter==\"\"?\"Subject\":\"*Subject\"} btnClass={classes.filterBtn} toggle={toggleSub}>\n              {subjectItems()}\n            </TitleSelect>\n          </div>\n\n          <div style={{margin: \"0 0.6rem\"}}>\n            <TitleSelect title={pprFilter==\"\"?\"Paper\":\"*Paper\"} btnClass={classes.filterBtn} toggle={togglePpr}>\n              {paperItems()}\n            </TitleSelect>\n          </div>\n        </div>\n      </div>\n    )\n}\n\nexport default MytestsFilter\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { makeStyles, Table, Button,\n  TableBody, TableCell, TableContainer, TablePagination,\n  TableHead, TableRow } from '@material-ui/core';\nimport PropagateLoader from 'react-spinners/PropagateLoader';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport * as db from '../../firebase/db';\nimport './mytests.css';\nimport MytestsFilter from './MytestsFilter';\n\nconst styles = makeStyles((theme) => ({\n  cell: {\n    border: \"none\",\n  },\n  actionBtn: {\n    padding: \"0\",\n    background: \"none\",\n    border: \"none\",\n    color: \"#555\",\n    \"&:hover\": {\n      color: \"#999\",\n    }\n  },\n}));\n\nfunction MytestsTable(props) {\n  const classes = styles();\n  const history = useHistory();\n\n  const NUM_COL = 3;\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(0);\n  const [RPP, setRPP] = useState(100); // Rows Per Page\n  const [rows, setRows] = useState([]);\n  const [filters, setFilters] = useState({});\n  const [data, setData] = useState(null);\n  getTests(); // Load from database\n\n  /*tdata format: {\"numt\": 3, \"t1\": {...}, \"t2\": {...}, \"t3\": {...}}*/\n  function getTests() {\n    if (loading) {\n      db.getMytests((tdata) => {\n        if (tdata == null) {\n          setLoading(false);\n          setRows([(\n            <TableRow key=\"failed\">\n              <TableCell className={classes.cell} colSpan={NUM_COL}>Failed to load tests.</TableCell>\n            </TableRow>\n          ),(\n            <TableRow key=\"try\">\n              <TableCell className={classes.cell} colSpan={NUM_COL}>\n                (Try logging in again)\n              </TableCell>\n            </TableRow>\n          )]);\n        } else {\n          //console.log(\"tdata: \"+JSON.stringify(tdata));\n          setData(tdata);\n          setLoading(false);\n          setRows(getRows(tdata));\n        }\n      });\n    }\n  }\n\n  function getRows(tdata) {\n    let items = [];\n    for (var i=1; i<=tdata.numt; i++) {\n      let index = i;\n      let qdata = tdata[\"t\"+i];\n      let test_name = qdata.test_name;\n\n      if (test_name.indexOf(filters.subject)>-1 && test_name.indexOf(filters.paper)>-1) {\n        let scorePercent = Math.round(qdata.score / qdata.numq * 100);\n        items.push((\n          <TableRow key={i}>\n            <TableCell className={classes.cell}>\n              <a className=\"test-link\" onClick={(e) => {selectTest(index)}} title=\"Result\">{qdata.test_name}</a>\n            </TableCell>\n            <TableCell className={classes.cell}>{qdata.score}/{qdata.numq} [{scorePercent}%]</TableCell>\n            <TableCell className={classes.cell}>\n              <button className={classes.actionBtn} title=\"Delete\"\n                onClick={(e) => {\n                  deleteTest(index);\n                }}>\n                <DeleteIcon style={{fontSize: \"1.2rem\"}} />\n              </button>\n            </TableCell>\n          </TableRow>\n        ));\n      }\n    }\n    function selectTest(index) {\n      // Load qdata to sessionStorage\n      let qdata = tdata[\"t\"+index];\n      sessionStorage.mc_qdata = JSON.stringify(qdata);\n      history.replace(\"/result\");\n    }\n    function deleteTest(index) {\n      let qdata = tdata[\"t\"+index];\n      let result = window.confirm(`Do you really want to delete ${qdata.test_name}?`);\n      if (result) {\n        db.deleteTest(qdata.test_name, (success) => {\n          if (success) {\n            history.go(0);\n          } else {\n            window.alert(`Failed to delete ${qdata.test_name}.`);\n          }\n        });\n      }\n    }\n\n    return items;\n  }\n\n  useEffect(() => {\n    if (data != null) {\n      setRows(getRows(data));\n    }\n  }, [filters]);\n\n  return (\n    <div style={props.style}>\n      <TableContainer id=\"mytests-table\">\n        <Table size=\"small\" style={{ widgth: \"100%\" }}>\n          <TableHead style={{background: \"#ccc\"}}>\n            {/* Header: Filter&Sorting */}\n            <TableRow>\n              <TableCell className={classes.cell} colSpan={NUM_COL}>\n                <MytestsFilter onChange={(val) => {\n                  console.log(\"Filter update: \"+JSON.stringify(val));\n                  setFilters(val);\n                }} />\n              </TableCell>\n            </TableRow>\n\n            <TableRow>\n              <TableCell className={classes.cell}>Test</TableCell>\n              <TableCell className={classes.cell}>Score</TableCell>\n              <TableCell className={classes.cell}></TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {loading?\n            <TableRow style={{height: \"3rem\"}}>\n              <TableCell className={classes.cell} colSpan={NUM_COL}>\n                <div className=\"row\" style={{ paddingBottom: \"1rem\" }}>\n                  <PropagateLoader loading={loading} />\n                </div>\n              </TableCell>\n            </TableRow>\n            :<></>}\n\n            {rows.slice(page*RPP, page*RPP+RPP)\n              .map((test, index) => {\n                return test;\n              }\n            )}\n          </TableBody>\n        </Table>\n        <TablePagination\n          rowsPerPageOptions={[10, 25, 50, 100]}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={RPP}\n          page={page}\n          onChangePage={(e, val) => {setPage(val)}}\n          onChangeRowsPerPage={(e) => {\n            setRPP(parseInt(e.target.value, 10));\n            setPage(0);\n          }}\n        />\n      </TableContainer>\n    </div>\n  )\n}\n\nexport default MytestsTable\n","import { Typography } from '@material-ui/core'\nimport React from 'react'\nimport Content from '../Layout/Content'\nimport MytestsTable from './MytestsTable'\n\nfunction MytestsPage() {\n    return (\n        <Content>\n            <Typography variant=\"h4\">My Tests</Typography>\n            <MytestsTable style={{marginTop: \"1.2rem\", minHeight: \"50vh\"}} />\n        </Content>\n    )\n}\n\nexport default MytestsPage\n","import { Button, Input } from '@material-ui/core'\nimport React from 'react'\n\nfunction AddAns(props) {\n\n    function onUpdate(name, ans) {\n        props.onUpdate(name, stripAns(ans));\n    }\n\n    function formatAns(ans) {\n        let res = \"\";\n        for (var i = 0; i < ans.length; i++) {\n            res += ans[i];\n            if ((i+1) % 10 == 0) {\n                res += \"\\n\";\n            } else if ((i+1) % 5 == 0) {\n                //res += \" \";\n            }\n        }\n        if (res[res.length-1] == '\\n') {\n            res = res.substr(0, res.length-1);\n        }\n        return res;\n    }\n\n    function stripAns(ans) {\n        let res = \"\";\n        for (var i = 0; i < ans.length; i++) {\n            if (ans[i] != \"\\n\") {\n                res += ans[i];\n            }\n        }\n        return res;\n    }\n\n    return (\n        <div style={{padding: \"1rem\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\",\n            border: \"solid #ccc 1px\", borderRadius: \"2rem\", maxWidth: \"550px\", margin: \"1rem auto\"\n        }}>\n\n            <div style={{marginRight: \"1.5rem\"}}>\n                <Input placeholder=\"Name\" style={{marginBottom: \"1rem\", display: \"block\"}}\n                    onChange={(e) => {onUpdate(e.target.value, props.ans);}}\n                    value={props.name}\n                />\n                <Button style={{background: \"#ff0000\", color: \"#fff\",}} variant=\"contained\"\n                    onClick={(e) => {\n                        props.onRemove()\n                    }}\n                >Remove</Button>\n            </div>\n\n            <textarea placeholder=\"Answer\" value={formatAns(stripAns(props.ans))}\n                rows={3} cols={20}\n                onChange={(e) => {onUpdate(props.name, e.target.value);}}\n                style={{textAlign: \"center\", padding: \"0.5rem\"}}\n            />\n        </div>\n    )\n}\n\nexport default AddAns\n","import { Button, Input, makeStyles, Typography } from '@material-ui/core';\nimport { React, useEffect, useState } from 'react'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Content from '../Layout/Content'\nimport AddAns from './AddAns';\nimport { useHistory } from 'react-router';\n\nconst styles = makeStyles((theme) => ({\n  compareTable: {\n    borderCollapse: \"collapse\",\n    margin: \"auto\",\n  },\n  tableHeader: {\n    border: \"solid #aaa 2px\",\n    background: \"#ddd\",\n  },\n  tableCell: {\n    border: \"solid #ccc 1px\",\n  },\n  tableStat: {\n    border: \"solid #ccc 1px\",\n    background: \"#ccddff\",\n  },\n  tableAns: {\n    border: \"solid #ccc 1px\",\n    background: \"#99aaff\",\n  },\n  tableCorrect: {\n    border: \"solid #ccc 1px\",\n    background: \"#55ff99\",\n  },\n  tableWrong: {\n    border: \"solid #ccc 1px\",\n    background: \"#ff5555\",\n  },\n  tableTie: {\n    border: \"solid #ccc 1px\",\n    background: \"#ffdd55\",\n  },\n}));\n\nfunction ComparePage(props) {\n  const classes = styles();\n  const history = useHistory();\n\n  const storageData = sessionStorage.mc_compareTestAns;\n\n  const [update, setUpdate] = useState(0);\n  const [ansVer, setAnsVer] = useState(storageData ? JSON.parse(storageData)[1] : []);\n  const [numq, setNumq] = useState(1);\n  const [testName, setTestName] = useState(storageData ? JSON.parse(storageData)[0] : \"\");\n\n  function addAns(e) {\n    console.log(\"add ans\");\n    let tmp = ansVer;\n    tmp.push({ \"name\": \"\", \"ans\": \"\" });\n    setAnsVer(tmp);\n    setUpdate(update => update + 1);\n  }\n\n  function headerQ() {\n    let res = [];\n    for (var i=0; i<numq; i++) {\n      res.push((<th className={classes.tableHeader} style={{minWidth: \"2rem\"}}>{i+1}</th>));\n    }\n    return res;\n  }\n\n  function genTable() {\n\n    let res = [];\n    let choices = {};\n    let choiceStat = [];\n    for (var i=0;i<numq;i++) choiceStat.push({});\n\n    for (var i=0; i<ansVer.length; i++) {\n      for (var q=0; q<numq; q++) {\n        let qans = ansVer[i].ans[q];\n\n        if (choices[qans]) {\n          choices[qans]++;\n        } else if (qans) {\n          choices[qans] = 1;\n        }\n\n        if (choiceStat[q][qans]) {\n          choiceStat[q][qans]++;\n        } else if (qans) {\n          choiceStat[q][qans] = 1;\n        }\n      }\n    }\n\n    let totalAns = []; // stores total answers for that question\n    let probAns = [];\n    for (var q=0; q<numq; q++) {\n      let tmp = 0;\n      let maxAns = 0;\n      for (var numa in choiceStat[q]) {\n        tmp += choiceStat[q][numa];\n        maxAns = Math.max(maxAns, choiceStat[q][numa]);\n      }\n      totalAns.push(tmp);\n      probAns.push(maxAns);\n    }\n\n    for (var i=0; i<ansVer.length; i++) {\n      let ans = [];\n      let score = 0;\n\n      for (var q=0; q<numq; q++) {\n        let qans = ansVer[i].ans[q];\n        let tie = 0;\n        for (var numa in choiceStat[q]) {\n          if (choiceStat[q][numa] == probAns[q]) tie++;\n        }\n\n        ans.push((<td key={q} className={choiceStat[q][qans]==probAns[q] ? \n          (tie > 1 ? classes.tableTie : classes.tableCorrect) : classes.tableWrong}\n        >\n          {qans}\n        </td>));\n\n        if (choiceStat[q][qans] == probAns[q]) {\n          score++;\n        }\n      }\n\n      ans.splice(0, 0, (\n        <td key={-1} className={classes.tableCell}>{score}</td>\n      ));\n\n      res.push((<tr key={\"ansver\"+i}>\n        <td className={classes.tableCell}>{ansVer[i].name}</td>\n        {ans}\n      </tr>));\n    }\n    \n    let ans = [];\n    for (var q=0; q<numq; q++) {\n      let ansChoice = [];\n      for (var choice in choices) {\n        if (choiceStat[q][choice] === probAns[q]) {\n          ansChoice.push(choice);\n        }\n      }\n      ans.push((<td className={classes.tableAns}>{ansChoice.join(\"/\")}</td>))\n    }\n    res.push((<tr>\n      <td className={classes.tableAns} colSpan={2}>Probable Answer</td>\n      {ans}\n    </tr>));\n\n    let sortedChoices = [];\n    for (var choice in choices) {\n      sortedChoices.push(choice);\n    }\n    sortedChoices.sort()\n\n    // STATISTICS\n    for (let i=0; i<sortedChoices.length; i++) {\n      let choice = sortedChoices[i];\n      let stat = [(<td className={classes.tableStat}>{choice}</td>)];\n      for (let q=0; q<numq; q++) {\n        let numa = choiceStat[q][choice];\n        let percentage = Math.round(numa/totalAns[q] * 100);\n        stat.push((<td key={q} className={numa == probAns[q] ? classes.tableAns : classes.tableStat}>\n          {numa ? percentage : 0 }%\n        </td>));\n      }\n\n      res.push((<tr>\n        <td className={classes.tableStat}></td>\n        {stat}\n      </tr>));\n    }\n\n    return res;\n  }\n\n  function getNumq() {\n    let newVal = 0;\n    for (var i=0; i<ansVer.length; i++) {\n      newVal = Math.max(newVal, ansVer[i].ans.length);\n    }\n    setNumq(newVal);\n  }\n\n  useEffect(() => {\n    getNumq();\n  }, [update]);\n\n\n  // Save\n  function onSave(e) {\n    let compareTests = localStorage.mc_compare ? JSON.parse(localStorage.mc_compare) : {};\n    compareTests[testName] = ansVer;\n    localStorage.mc_compare = JSON.stringify(compareTests);\n  }\n\n  return (\n  <Content>\n    <div className=\"row\">\n      <button className=\"base-btn icon-btn\" style={{marginRight: \"1rem\"}}\n        onClick={(e) => {\n          history.goBack();\n        }}\n      >\n        <ArrowBackIcon />\n      </button>\n      <Typography variant=\"h4\">Compare Result Versions</Typography>\n    </div>\n    \n    <div>\n      <div style={{ marginTop: \"1.2rem\", marginBottom: \"2rem\", overflowX: \"auto\" }}>\n        <table className={classes.compareTable}>\n        <tr>\n          <th className={classes.tableHeader}\n            style={{minWidth: \"5rem\"}}\n          >Name</th>\n          <th className={classes.tableHeader}>Score</th>\n          {headerQ()}\n        </tr>\n        {genTable()}\n        </table>\n      </div>\n\n      <div className=\"row\" style={{ marginBottom: \"2rem\" }}>\n        <Input style={{ marginRight: \"1.6rem\" }} placeholder=\"Test Name\" onChange={(e) => {\n          setTestName(e.target.value);\n        }} value={testName} />\n        <Button variant=\"outlined\" onClick={onSave}>Save</Button>\n      </div>\n\n      <div>\n        {ansVer.map((rec, i) => {\n          return (\n          <AddAns key={i} name={rec.name} ans={rec.ans} onUpdate={(name, ans) => {\n            let tmp = ansVer;\n            tmp[i] = { \"name\": name, \"ans\": ans };\n            setAnsVer(tmp);\n            setUpdate(update => update + 1);\n          }}\n          onRemove={() => {\n            if (ansVer.length >= 1) {\n            let tmp = ansVer;\n            tmp.splice(i, 1);\n            setAnsVer(tmp);\n            setUpdate(update => update + 1);\n            }\n          }}\n          />\n          )\n        })}\n        <div style={{marginTop: \"1.5rem\"}}>\n          <Button variant=\"contained\" color=\"secondary\" style={{color: \"#fff\"}}\n            onClick={addAns}\n          >Add</Button>\n        </div>\n      </div>\n    </div>\n  </Content>\n  )\n}\n\nexport default ComparePage\n","import { Button, makeStyles, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useHistory } from 'react-router';\nimport Content from '../Layout/Content'\n\nconst styles = makeStyles((theme) => ({\n  item: {\n    border: \"solid #ccc 1px\",\n    borderRadius: \"5px\",\n    padding: \"1.5rem\",\n    \"&:hover\": {\n      background: \"#eee\",\n    },\n    margin: \"1rem 2.5rem\",\n  }\n}));\n\nfunction CompareTests() {\n  const classes = styles();\n  const history = useHistory();\n\n  const [update, setUpdate] = useState(0);\n\n  function getTests() {\n    let res = [];\n    let tests = localStorage.mc_compare?JSON.parse(localStorage.mc_compare):{};\n\n    for (var i in tests) {\n      let j = i;\n      res.push((<div key={j} onClick={(e) => {\n        sessionStorage.mc_compareTestAns = JSON.stringify([j, tests[j]]);\n        history.push(\"/compare\");\n      }} className={[classes.item, \"row\"].join(\" \")} >\n        <h5 style={{width: \"12rem\"}}>{j}</h5>\n        <Button style={{background: \"#ff0000\", color: \"#fff\",}} variant=\"contained\"\n          onClick={(e) => {\n            e.stopPropagation();\n            let tmp = JSON.parse(localStorage.mc_compare);\n            delete tmp[j];\n            localStorage.mc_compare = JSON.stringify(tmp);\n            setUpdate(update + 1);\n        }}>Delete</Button>\n      </div>));\n    }\n\n    return res;\n  }\n\n  return (\n    <Content>\n      <Typography variant=\"h4\">Tests</Typography>\n\n      <Typography variant=\"h5\" style={{marginTop: \"2rem\"}}>Local</Typography>\n\n      <div style={{marginTop: \"1rem\", marginBottom: \"2rem\"}}>\n        {getTests()}\n      </div>\n      <div>\n        <Button color=\"secondary\" variant=\"contained\" style={{color: \"#fff\"}}\n          onClick={(e) => {\n            sessionStorage.mc_compareTestAns = JSON.stringify([\"\", []]);\n            history.push(\"/compare\");\n          }}\n        >New</Button>\n      </div>\n    </Content>\n  )\n}\n\nexport default CompareTests\n","import * as firebaseAPI from './firebase/api';\n// Modules\nimport React from 'react';\nimport { BrowserRouter as Router, Route, useHistory, HashRouter } from 'react-router-dom';\nimport { ThemeProvider } from '@material-ui/core';\n\n// Components\nimport HomePage from './components/HomePage/HomePage';\nimport Navbar from './components/Navbar/Navbar';\nimport TestPage from './components/TestPage/TestPage';\nimport ResultPage from './components/ResultPage/ResultPage';\nimport SettingsPage from './components/ResultPage/SettingsPage';\nimport LoginPage from './components/LoginPage/LoginPage';\nimport AboutPage from './components/AboutPage/AboutPage';\nimport HelpPage from './components/HelpPage/HelpPage';\nimport UserPage from './components/UserPage/UserPage';\nimport MytestsPage from './components/MytestsPage/MytestsPage';\nimport ComparePage from './components/Compare/ComparePage';\nimport CompareTests from './components/Compare/CompareTests';\n\n// Styles\nimport './style/style.css'\nimport theme from './theme/theme';\n\nimport * as db from './firebase/db';\n\nconst baseSettings = {\n    settings_dd: false,\n    auto_next_q: true,\n    subjects: [\"Math\", \"Phy\", \"Chem\"],\n    papers: [\"DSE\", \"CE\", \"AL\"],\n}\n\nfunction App() {\n    const history = useHistory();\n    // For BrowswerRouter: basename=\"/mctest-dev\"\n    \n    console.log(\"Checking settings\");\n    // Settings\n    if (!localStorage.mc_settings) {\n        console.log(\"No existing settings\");\n        localStorage.mc_settings = JSON.stringify(baseSettings);\n    }\n\n    return (\n\t<ThemeProvider theme={theme}>\n\t\t<HashRouter history={history} >\n            <Navbar />\n            <Route exact path=\"/\" component={HomePage}></Route>\n\t\t\t<Route path=\"/test\" component={TestPage}></Route>\n            <Route path=\"/result\" component={ResultPage}></Route>\n            <Route path=\"/settings\" component={SettingsPage}></Route>\n\t\t\t<Route path=\"/login\" component={LoginPage}></Route>\n            <Route path=\"/about\" component={AboutPage}></Route>\n\t\t\t<Route path=\"/help\" component={HelpPage}></Route>\n            <Route path=\"/user\" component={UserPage}></Route>\n            <Route path=\"/mytests\" component={MytestsPage}></Route>\n            <Route path=\"/compare\" component={ComparePage}></Route>\n            <Route path=\"/comparetests\" component={CompareTests}></Route>\n\t\t</HashRouter>\n\t</ThemeProvider>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}